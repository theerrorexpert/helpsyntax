LIST-HANDSHAKES-FOR-ACCOUNT()                    LIST-HANDSHAKES-FOR-ACCOUNT()



NAME
       list-handshakes-for-account -

DESCRIPTION
       Lists  the  current  handshakes that are associated with the account of
       the requesting user.

       Handshakes that are ACCEPTED , DECLINED , or  CANCELED  appear  in  the
       results  of  this  API  for  only 30 days after changing to that state.
       After that, they're deleted and no longer accessible.

       NOTE:
          Always check the NextToken response parameter for a null value  when
          calling  a List* operation. These operations can occasionally return
          an empty set of results even when there are more results  available.
          The  NextToken response parameter value is null  only when there are
          no more results to display.

       This operation can be called from any account in the organization.

       See also: AWS API Documentation

       See 'aws help' for descriptions of global parameters.

       list-handshakes-for-account is  a  paginated  operation.  Multiple  API
       calls  may  be  issued  in  order  to  retrieve  the entire data set of
       results. You can disable  pagination  by  providing  the  --no-paginate
       argument.  When using --output text and the --query argument on a pagi-
       nated response, the --query argument must extract data from the results
       of the following query expressions: Handshakes

SYNOPSIS
            list-handshakes-for-account
          [--filter <value>]
          [--cli-input-json | --cli-input-yaml]
          [--starting-token <value>]
          [--page-size <value>]
          [--max-items <value>]
          [--generate-cli-skeleton <value>]

OPTIONS
       --filter (structure)
          Filters  the  handshakes that you want included in the response. The
          default is all types. Use the ActionType element to limit the output
          to  only a specified type, such as INVITE , ENABLE_ALL_FEATURES , or
          APPROVE_ALL_FEATURES . Alternatively,  for  the  ENABLE_ALL_FEATURES
          handshake  that generates a separate child handshake for each member
          account, you can specify ParentHandshakeId to  see  only  the  hand-
          shakes that were generated by that parent request.

          ActionType -> (string)
              Specifies the type of handshake action.

              If  you specify ActionType , you cannot also specify ParentHand-
              shakeId .

          ParentHandshakeId -> (string)
              Specifies the parent handshake. Only used  for  handshake  types
              that are a child of another type.

              If  you  specify  ParentHandshakeId  ,  you  cannot also specify
              ActionType .

              The regex pattern for handshake ID string requires "h-" followed
              by from 8 to 32 lowercase letters or digits.

       Shorthand Syntax:

          ActionType=string,ParentHandshakeId=string

       JSON Syntax:

          {
            "ActionType": "INVITE"|"ENABLE_ALL_FEATURES"|"APPROVE_ALL_FEATURES"|"ADD_ORGANIZATIONS_SERVICE_LINKED_ROLE",
            "ParentHandshakeId": "string"
          }

       --cli-input-json  |  --cli-input-yaml (string) Reads arguments from the
       JSON string provided. The JSON string follows the  format  provided  by
       --generate-cli-skeleton. If other arguments are provided on the command
       line, those values will override the JSON-provided values.  It  is  not
       possible to pass arbitrary binary values using a JSON-provided value as
       the string will be taken literally. This may  not  be  specified  along
       with --cli-input-yaml.

       --starting-token (string)
          A  token to specify where to start paginating. This is the NextToken
          from a previously truncated response.

          For usage examples, see Pagination in the AWS Command Line Interface
          User Guide .

       --page-size (integer)
          The  size of each page to get in the AWS service call. This does not
          affect the number of items returned in the command's output. Setting
          a  smaller  page  size  results  in  more  calls to the AWS service,
          retrieving fewer items in each call. This can help prevent  the  AWS
          service calls from timing out.

          For usage examples, see Pagination in the AWS Command Line Interface
          User Guide .

       --max-items (integer)
          The total number of items to return in the command's output. If  the
          total  number of items available is more than the value specified, a
          NextToken is provided in the command's output. To resume pagination,
          provide the NextToken value in the starting-token argument of a sub-
          sequent command. Do not use the NextToken response element  directly
          outside of the AWS CLI.

          For usage examples, see Pagination in the AWS Command Line Interface
          User Guide .

       --generate-cli-skeleton (string) Prints a  JSON  skeleton  to  standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for --cli-input-json. Similarly, if provided yaml-input it will print a
       sample input YAML that can be used with --cli-input-yaml.  If  provided
       with  the  value  output, it validates the command inputs and returns a
       sample output JSON for that command.

       See 'aws help' for descriptions of global parameters.

EXAMPLES
       To retrieve a list of the handshakes sent to an account

       The following example shows how to get a list of  all  handshakes  that
       are  associated  with  the account of the credentials that were used to
       call the operation:

          aws organizations list-handshakes-for-account

       The output includes a list of  handshake  structures  with  information
       about each handshake including its current state:

          {
                  "Handshake": {
                          "Action": "INVITE",
                          "Arn": "arn:aws:organizations::111111111111:handshake/o-exampleorgid/invite/h-examplehandshakeid111",
                          "ExpirationTimestamp": 1482952459.257,
                          "Id": "h-examplehandshakeid111",
                          "Parties": [
                                  {
                                          "Id": "o-exampleorgid",
                                          "Type": "ORGANIZATION"
                                  },
                                  {
                                          "Id": "juan@example.com",
                                          "Type": "EMAIL"
                                  }
                          ],
                          "RequestedTimestamp": 1481656459.257,
                          "Resources": [
                                  {
                                          "Resources": [
                                                  {
                                                          "Type": "MASTER_EMAIL",
                                                          "Value": "bill@amazon.com"
                                                  },
                                                  {
                                                          "Type": "MASTER_NAME",
                                                          "Value": "Org Master Account"
                                                  },
                                                  {
                                                          "Type": "ORGANIZATION_FEATURE_SET",
                                                          "Value": "FULL"
                                                  }
                                          ],
                                          "Type": "ORGANIZATION",
                                          "Value": "o-exampleorgid"
                                  },
                                  {
                                          "Type": "EMAIL",
                                          "Value": "juan@example.com"
                                  }
                          ],
                          "State": "OPEN"
                  }
          }

OUTPUT
       Handshakes -> (list)
          A  list  of   Handshake objects with details about each of the hand-
          shakes that is associated with the specified account.

          (structure)
              Contains information that must be exchanged to  securely  estab-
              lish  a  relationship  between two accounts (an originator and a
              recipient ). For example, when a management account (the  origi-
              nator) invites another account (the recipient) to join its orga-
              nization, the two accounts exchange information as a  series  of
              handshake requests and responses.
                 Note:  Handshakes  that are CANCELED , ACCEPTED , or DECLINED
                 show up in lists for only 30 days after entering  that  state
                 After that they are deleted.

              Id -> (string)
                 The  unique  identifier  (ID) of a handshake. The originating
                 account creates the ID when it initiates the handshake.

                 The regex pattern for handshake ID string requires "h-"  fol-
                 lowed by from 8 to 32 lowercase letters or digits.

              Arn -> (string)
                 The Amazon Resource Name (ARN) of a handshake.

                 For  more  information  about  ARNs in Organizations, see ARN
                 Formats Supported by Organizations in the AWS Service  Autho-
                 rization Reference .

              Parties -> (list)
                 Information  about the two accounts that are participating in
                 the handshake.

                 (structure)
                     Identifies a participant in a handshake.

                     Id -> (string)
                        The unique identifier (ID) for the party.

                        The regex pattern for  handshake  ID  string  requires
                        "h-"  followed  by  from  8 to 32 lowercase letters or
                        digits.

                     Type -> (string)
                        The type of party.

              State -> (string)
                 The current state of the handshake. Use the  state  to  trace
                 the  flow  of the handshake through the process from its cre-
                 ation to its acceptance. The meaning of  each  of  the  valid
                 values is as follows:

                 o REQUESTED  : This handshake was sent to multiple recipients
                   (applicable to only  some  handshake  types)  and  not  all
                   recipients  have  responded  yet. The request stays in this
                   state until all recipients respond.

                 o OPEN : This  handshake  was  sent  to  multiple  recipients
                   (applicable  to  only some policy types) and all recipients
                   have responded, allowing the  originator  to  complete  the
                   handshake action.

                 o CANCELED  :  This  handshake is no longer active because it
                   was canceled by the originating account.

                 o ACCEPTED : This handshake is complete because it  has  been
                   accepted by the recipient.

                 o DECLINED  :  This  handshake is no longer active because it
                   was declined by the recipient account.

                 o EXPIRED : This handshake is no longer  active  because  the
                   originator  did not receive a response of any kind from the
                   recipient before the expiration time (15 days).

              RequestedTimestamp -> (timestamp)
                 The date and time that the handshake request was made.

              ExpirationTimestamp -> (timestamp)
                 The date and time that the handshake expires. If the  recipi-
                 ent  of  the  handshake  request  fails to respond before the
                 specified date and time, the handshake becomes  inactive  and
                 is no longer valid.

              Action -> (string)
                 The type of handshake, indicating what action occurs when the
                 recipient accepts  the  handshake.  The  following  handshake
                 types are supported:

                 o INVITE  :  This  type  of handshake represents a request to
                   join an organization. It is always sent from the management
                   account to only non-member accounts.

                 o ENABLE_ALL_FEATURES  :  This type of handshake represents a
                   request to enable all features in an  organization.  It  is
                   always  sent  from  the  management account to only invited
                   member accounts.  Created  accounts  do  not  receive  this
                   because  those  accounts were created by the organization's
                   management account and approval is inferred.

                 o APPROVE_ALL_FEATURES : This type of handshake is sent  from
                   the  Organizations  service  when  all member accounts have
                   approved the ENABLE_ALL_FEATURES  invitation.  It  is  sent
                   only  to the management account and signals the master that
                   it can finalize the process to enable all features.

              Resources -> (list)
                 Additional information that is needed to  process  the  hand-
                 shake.

                 (structure)
                     Contains  additional  data  that  is  needed to process a
                     handshake.

                     Value -> (string)
                        The information that is passed to the other  party  in
                        the  handshake.  The  format  of the value string must
                        match the requirements of the specified type.

                     Type -> (string)
                        The type of information being passed,  specifying  how
                        the value is to be interpreted by the other party:

                        o ACCOUNT - Specifies an AWS account ID number.

                        o ORGANIZATION  - Specifies an organization ID number.

                        o EMAIL - Specifies the email address that is  associ-
                          ated with the account that receives the handshake.

                        o OWNER_EMAIL - Specifies the email address associated
                          with the management account. Included as information
                          about an organization.

                        o OWNER_NAME  - Specifies the name associated with the
                          management account. Included as information about an
                          organization.

                        o NOTES  -  Additional  text provided by the handshake
                          initiator and intended for the recipient to read.

                     Resources -> (list)
                        When needed, contains an additional array of Handshak-
                        eResource objects.

                        (structure)
                            Contains additional data that is needed to process
                            a handshake.

                            Value -> (string)
                               The information that is  passed  to  the  other
                               party in the handshake. The format of the value
                               string must match the requirements of the spec-
                               ified type.

                            Type -> (string)
                               The  type of information being passed, specify-
                               ing how the value is to be interpreted  by  the
                               other party:

                               o ACCOUNT - Specifies an AWS account ID number.

                               o ORGANIZATION - Specifies an  organization  ID
                                 number.

                               o EMAIL  -  Specifies the email address that is
                                 associated with the account that receives the
                                 handshake.

                               o OWNER_EMAIL  -  Specifies  the  email address
                                 associated  with  the   management   account.
                                 Included  as  information  about an organiza-
                                 tion.

                               o OWNER_NAME - Specifies  the  name  associated
                                 with  the  management  account.  Included  as
                                 information about an organization.

                               o NOTES - Additional text provided by the hand-
                                 shake  initiator and intended for the recipi-
                                 ent to read.

       NextToken -> (string)
          If present, indicates that more output is available than is included
          in  the  current  response.  Use this value in the NextToken request
          parameter in a subsequent call to the operation to get the next part
          of  the  output. You should repeat this until the NextToken response
          element comes back as null .



                                                 LIST-HANDSHAKES-FOR-ACCOUNT()
